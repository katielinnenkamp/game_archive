<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>ðŸª„ Hangman</title>
    <link rel="stylesheet" href="../style.css" />
    <style>
        body {
        font-family: Arial, sans-serif;
        background-color: #f0f0f0;
        text-align: center;
        }
        h2 {
        color: #333;
        }
        .word {
        font-size: 2rem;
        letter-spacing: 1rem;
        margin: 1rem 0;
        }
        .wrong-letters {
        color: red;
        }
        button {
        font-size: 1.2rem;
        padding: 0.8rem 1.2rem;
        border-radius: 12px;
        border: none;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        cursor: pointer;
        }
        button:hover {
        background-color: rgba(0, 0, 0, 0.85);
        }
        #result {
        font-size: 1.5rem;
        margin-top: 1rem;
        }
    </style>
</head>
<body>
  <h2>ðŸª„ Hangman</h2>

  <div id="mode-selector">
    <button onclick="startGame('single')">1 Player</button>
    <button onclick="document.getElementById('word-setup').style.display = 'block';">2 Player</button>
  </div>

  <div id="word-setup" style="display:none;">
    <p>Player 1 Enter a Word:</p>
    <input type="text" id="input-word" />
    <button onclick="setWord()">Set Word</button>
  </div>

  <canvas id="hangmanCanvas" width="200" height="200"></canvas>
  <div class="word" id="word"></div>
  <p>Wrong Letters: <span id="wrong-letters" class="wrong-letters"></span></p>
  <p>Guess a letter:</p>
  <input type="text" id="letter-input" maxlength="1" />
  <button id="guess-button" onclick="guessLetter()">Guess</button>
  <p id="result"></p>
  <button id="restart-button" onclick="location.reload()" style="display:none;">Play Again / Change Players</button>

  <script>
    let secretWord = "";
    let guessedLetters = [];
    let wrongLetters = [];
    const maxMistakes = 10;
    const wordList = ["JAVASCRIPT", "PYTHON", "HANGMAN", "COMPUTER", "DEVELOPER"];
    const canvas = document.getElementById("hangmanCanvas");
    const ctx = canvas.getContext("2d");

    function drawHangman(stage) {
      ctx.lineWidth = 2;
      ctx.strokeStyle = "#000";
      switch (stage) {
        case 1: ctx.beginPath(); ctx.moveTo(10, 190); ctx.lineTo(190, 190); ctx.stroke(); break;
        case 2: ctx.beginPath(); ctx.moveTo(50, 190); ctx.lineTo(50, 10); ctx.stroke(); break;
        case 3: ctx.beginPath(); ctx.moveTo(50, 10); ctx.lineTo(130, 10); ctx.stroke(); break;
        case 4: ctx.beginPath(); ctx.moveTo(130, 10); ctx.lineTo(130, 30); ctx.stroke(); break;
        case 5: ctx.beginPath(); ctx.arc(130, 45, 15, 0, Math.PI * 2); ctx.stroke(); break;
        case 6: ctx.beginPath(); ctx.moveTo(130, 60); ctx.lineTo(130, 110); ctx.stroke(); break;
        case 7: ctx.beginPath(); ctx.moveTo(130, 70); ctx.lineTo(110, 90); ctx.stroke(); break;
        case 8: ctx.beginPath(); ctx.moveTo(130, 70); ctx.lineTo(150, 90); ctx.stroke(); break;
        case 9: ctx.beginPath(); ctx.moveTo(130, 110); ctx.lineTo(110, 140); ctx.stroke(); break;
        case 10: ctx.beginPath(); ctx.moveTo(130, 110); ctx.lineTo(150, 140); ctx.stroke(); break;
      }
    }

    function setWord() {
      secretWord = document.getElementById("input-word").value.toUpperCase();
      document.getElementById("word-setup").style.display = "none";
      document.getElementById("mode-selector").style.display = "none";
      startGameplay();
    }

    function startGame(mode) {
      if (mode === 'single') {
        secretWord = wordList[Math.floor(Math.random() * wordList.length)].toUpperCase();
        document.getElementById("mode-selector").style.display = "none";
        startGameplay();
      }
    }

    function startGameplay() {
      guessedLetters = [];
      wrongLetters = [];
      document.getElementById("result").innerText = "";
      document.getElementById("restart-button").style.display = "none";
      updateDisplay();
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    function updateDisplay() {
      const wordDisplay = secretWord
        .split("")
        .map(letter => guessedLetters.includes(letter) ? letter : "_")
        .join(" ");
      document.getElementById("word").innerText = wordDisplay;
      document.getElementById("wrong-letters").innerText = wrongLetters.join(" ");
    }

    function guessLetter() {
      const input = document.getElementById("letter-input");
      const letter = input.value.toUpperCase();
      input.value = "";
      if (!letter.match(/^[A-Z]$/) || guessedLetters.includes(letter) || wrongLetters.includes(letter)) return;

      if (secretWord.includes(letter)) {
        guessedLetters.push(letter);
      } else {
        wrongLetters.push(letter);
        drawHangman(wrongLetters.length);
      }
      updateDisplay();
      checkResult();
    }

    function checkResult() {
      const allGuessed = secretWord.split("").every(l => guessedLetters.includes(l));
      const inputBox = document.getElementById("letter-input");
      const guessButton = document.getElementById("guess-button");

      if (allGuessed) {
        document.getElementById("result").innerText = "ðŸŽ‰ You guessed it!";
        inputBox.disabled = true;
        guessButton.disabled = true;
        document.getElementById("restart-button").style.display = "inline-block";
      } else if (wrongLetters.length >= maxMistakes) {
        document.getElementById("result").innerText = `ðŸ˜¢ Game Over. The word was: ${secretWord}`;
        inputBox.disabled = true;
        guessButton.disabled = true;
        document.getElementById("restart-button").style.display = "inline-block";
      }
    }
  </script>
</body>
</html>
        